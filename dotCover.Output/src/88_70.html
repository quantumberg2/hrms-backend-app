<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\USER\source\HRMS\hrms-backend-app\HRMS Unit Test\Controllers\LeaveTypeControllerTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
namespace HRMS_Unit_Test.Controllers
{
    using System;
    using System.Collections.Generic;
    using System.Threading.Tasks;
    using HRMS_Application.BusinessLogic.Interface;
    using HRMS_Application.Controllers;
    using HRMS_Application.Models;
    using Microsoft.Extensions.Logging;
    using Moq;
    using Xunit;

    public class LeaveTypeControllerTests
    {
        private readonly LeaveTypeController _testClass;
        private readonly Mock&lt;ILeaveTypes&gt; _leavetype;
        private readonly Mock&lt;ILogger&lt;LeaveTypeController&gt;&gt; _logger;

        public LeaveTypeControllerTests()
        {
            _leavetype = new Mock&lt;ILeaveTypes&gt;();
            _logger = new Mock&lt;ILogger&lt;LeaveTypeController&gt;&gt;();
            _testClass = new LeaveTypeController(_leavetype.Object, _logger.Object);
        }

        [Fact]
        public void CanConstruct()
        {
            // Act
            var instance = new LeaveTypeController(_leavetype.Object, _logger.Object);

            // Assert
            Assert.NotNull(instance);
        }
        /*
                [Fact]
                public void CanCallGetAllLeavetype()
                {
                    // Arrange
                    _leavetype.Setup(mock =&gt; mock.GetAllLeaveType()).Returns(new List&lt;LeaveType&gt;());

                    // Act
                    var result = _testClass.GetAllLeavetype();

                    // Assert
                    _leavetype.Verify(mock =&gt; mock.GetAllLeaveType());

                    throw new NotImplementedException(&quot;Create or modify test&quot;);
                }
        */
        [Fact]
        public void CanCallGetleavetypeById()
        {
            // Arrange
            var id = 1821261851;

            _leavetype.Setup(mock =&gt; mock.GetLeaveTypeById(It.IsAny&lt;int&gt;())).Returns(new LeaveType
            {
                Id = 1395323324,
                Type = &quot;TestValue674460505&quot;,
                Days = 1215642833,
                CompanyId = 629105709,
                Year = 414337206,
                IsActive = (short)18871,
                Company = new RequestedCompanyForm
                {
                    Id = 2016197251,
                    Name = &quot;TestValue273796879&quot;,
                    PhoneNumber = &quot;TestValue1460808687&quot;,
                    DomainName = &quot;TestValue2096704337&quot;,
                    Status = &quot;TestValue2139442589&quot;,
                    InsertedDate = DateTime.UtcNow,
                    UpdatedDate = DateTime.UtcNow,
                    Email = &quot;TestValue1185119761&quot;,
                    IsActive = (short)5816,
                    CompanyDetails = new Mock&lt;ICollection&lt;CompanyDetail&gt;&gt;().Object,
                    Departments = new Mock&lt;ICollection&lt;Department&gt;&gt;().Object,
                    EmployeeCredentials = new Mock&lt;ICollection&lt;EmployeeCredential&gt;&gt;().Object,
                    Holidays = new Mock&lt;ICollection&lt;Holiday&gt;&gt;().Object,
                    LeaveTypes = new Mock&lt;ICollection&lt;LeaveType&gt;&gt;().Object,
                    Positions = new Mock&lt;ICollection&lt;Position&gt;&gt;().Object
                },
                EmployeeLeaveAllocations = new Mock&lt;ICollection&lt;EmployeeLeaveAllocation&gt;&gt;().Object,
                LeaveTrackings = new Mock&lt;ICollection&lt;LeaveTracking&gt;&gt;().Object
            });

            // Act
            var result = _testClass.GetleavetypeById(id);

            // Assert
            _leavetype.Verify(mock =&gt; mock.GetLeaveTypeById(It.IsAny&lt;int&gt;()));

            throw new NotImplementedException(&quot;Create or modify test&quot;);
        }

        [Fact]
        public async Task CanCallInsertLeavetypes()
        {
            // Arrange
            var leaveType = new LeaveType
            {
                Id = 1475294470,
                Type = &quot;TestValue33298652&quot;,
                Days = 2110422607,
                CompanyId = 2034176630,
                Year = 1332165955,
                IsActive = (short)27151,
                Company = new RequestedCompanyForm
                {
                    Id = 691750354,
                    Name = &quot;TestValue863185759&quot;,
                    PhoneNumber = &quot;TestValue1118031167&quot;,
                    DomainName = &quot;TestValue619570784&quot;,
                    Status = &quot;TestValue1267073417&quot;,
                    InsertedDate = DateTime.UtcNow,
                    UpdatedDate = DateTime.UtcNow,
                    Email = &quot;TestValue657039475&quot;,
                    IsActive = (short)27168,
                    CompanyDetails = new Mock&lt;ICollection&lt;CompanyDetail&gt;&gt;().Object,
                    Departments = new Mock&lt;ICollection&lt;Department&gt;&gt;().Object,
                    EmployeeCredentials = new Mock&lt;ICollection&lt;EmployeeCredential&gt;&gt;().Object,
                    Holidays = new Mock&lt;ICollection&lt;Holiday&gt;&gt;().Object,
                    LeaveTypes = new Mock&lt;ICollection&lt;LeaveType&gt;&gt;().Object,
                    Positions = new Mock&lt;ICollection&lt;Position&gt;&gt;().Object
                },
                EmployeeLeaveAllocations = new Mock&lt;ICollection&lt;EmployeeLeaveAllocation&gt;&gt;().Object,
                LeaveTrackings = new Mock&lt;ICollection&lt;LeaveTracking&gt;&gt;().Object
            };

            _leavetype.Setup(mock =&gt; mock.InsertLeaveType(It.IsAny&lt;LeaveType&gt;())).ReturnsAsync(&quot;TestValue1850644550&quot;);

            // Act
            var result = await _testClass.InsertLeavetypes(leaveType);

            // Assert
            _leavetype.Verify(mock =&gt; mock.InsertLeaveType(It.IsAny&lt;LeaveType&gt;()));

            throw new NotImplementedException(&quot;Create or modify test&quot;);
        }

        [Fact]
        public void CanCallDeleteLeavetype()
        {
            // Arrange
            var id = 963161364;

            _leavetype.Setup(mock =&gt; mock.deleteLeaveType(It.IsAny&lt;int&gt;())).Returns(true);

            // Act
            var result = _testClass.DeleteLeavetype(id);

            // Assert
            _leavetype.Verify(mock =&gt; mock.deleteLeaveType(It.IsAny&lt;int&gt;()));

            throw new NotImplementedException(&quot;Create or modify test&quot;);
        }

        [Fact]
        public void CanCallSoftDelete()
        {
            // Arrange
            var id = 1375537438;
            var isActive = (short)8988;

            _leavetype.Setup(mock =&gt; mock.SoftDelete(It.IsAny&lt;int&gt;(), It.IsAny&lt;short&gt;())).Returns(false);

            // Act
            var result = _testClass.SoftDelete(id, isActive);

            // Assert
            _leavetype.Verify(mock =&gt; mock.SoftDelete(It.IsAny&lt;int&gt;(), It.IsAny&lt;short&gt;()));

            throw new NotImplementedException(&quot;Create or modify test&quot;);
        }

        [Fact]
        public void CanCallGetAllLeavetype()
        {
            // Arrange
            _leavetype.Setup(mock =&gt; mock.GetAllLeaveType(It.IsAny&lt;int&gt;())).Returns(new List&lt;LeaveType&gt;());
            _leavetype.Setup(mock =&gt; mock.GetRegularizationLeaveType()).Returns(new List&lt;LeaveType&gt;());

            // Act
            var result = _testClass.GetAllLeavetype();

            // Assert
            _leavetype.Verify(mock =&gt; mock.GetAllLeaveType(It.IsAny&lt;int&gt;()));
            _leavetype.Verify(mock =&gt; mock.GetRegularizationLeaveType());

            throw new NotImplementedException(&quot;Create or modify test&quot;);
        }

        [Fact]
        public void CanCallUpdateLeaveType()
        {
            // Arrange
            var id = 446745759;
            var name = &quot;TestValue468288645&quot;;
            var days = 1318389584;
            var year = 1339860116;
            var requestedcompanyId = 1011435910;

            _leavetype.Setup(mock =&gt; mock.UpdateLeaveType(It.IsAny&lt;int&gt;(), It.IsAny&lt;string&gt;(), It.IsAny&lt;int?&gt;(), It.IsAny&lt;int?&gt;(), It.IsAny&lt;int?&gt;())).Returns(new LeaveType
            {
                Id = 727466783,
                Type = &quot;TestValue1823886529&quot;,
                Days = 1923232911,
                CompanyId = 1328232896,
                Year = 1155582387,
                IsActive = (short)15030,
                CompanyConfiguredLeave = true,
                Company = new RequestedCompanyForm
                {
                    Id = 1584978202,
                    Name = &quot;TestValue152714004&quot;,
                    PhoneNumber = &quot;TestValue1041336752&quot;,
                    DomainName = &quot;TestValue1704761795&quot;,
                    Status = &quot;TestValue1426468639&quot;,
                    InsertedDate = DateTime.UtcNow,
                    UpdatedDate = DateTime.UtcNow,
                    Email = &quot;TestValue106370522&quot;,
                    IsActive = (short)6024,
                    CompanyDetails = new Mock&lt;ICollection&lt;CompanyDetail&gt;&gt;().Object,
                    Departments = new Mock&lt;ICollection&lt;Department&gt;&gt;().Object,
                    EmployeeCredentials = new Mock&lt;ICollection&lt;EmployeeCredential&gt;&gt;().Object,
                    Holidays = new Mock&lt;ICollection&lt;Holiday&gt;&gt;().Object,
                    LeaveTypes = new Mock&lt;ICollection&lt;LeaveType&gt;&gt;().Object,
                    Positions = new Mock&lt;ICollection&lt;Position&gt;&gt;().Object
                },
                EmployeeLeaveAllocations = new Mock&lt;ICollection&lt;EmployeeLeaveAllocation&gt;&gt;().Object,
                LeaveTrackings = new Mock&lt;ICollection&lt;LeaveTracking&gt;&gt;().Object
            });

            // Act
            var result = _testClass.UpdateLeaveType(id, name, days, year, requestedcompanyId);

            // Assert
            _leavetype.Verify(mock =&gt; mock.UpdateLeaveType(It.IsAny&lt;int&gt;(), It.IsAny&lt;string&gt;(), It.IsAny&lt;int?&gt;(), It.IsAny&lt;int?&gt;(), It.IsAny&lt;int?&gt;()));

            throw new NotImplementedException(&quot;Create or modify test&quot;);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[19,9,19,42,1],[20,9,20,10,1],[21,13,21,50,1],[22,13,22,64,1],[23,13,23,85,1],[24,9,24,10,1],[28,9,28,10,1],[30,13,30,87,1],[33,13,33,38,1],[34,9,34,10,1],[53,9,53,10,1],[55,13,55,33,1],[57,13,85,16,1],[88,13,88,58,1],[91,13,91,79,1],[93,13,93,72,1],[98,9,98,10,1],[100,13,128,15,1],[130,13,130,119,1],[133,13,133,71,1],[136,13,136,84,1],[138,13,138,72,0],[143,9,143,10,1],[145,13,145,32,1],[147,13,147,91,1],[150,13,150,57,1],[153,13,153,78,1],[155,13,155,72,1],[160,9,160,10,1],[162,13,162,33,1],[163,13,163,40,1],[165,13,165,106,1],[168,13,168,62,1],[171,13,171,92,1],[173,13,173,72,1],[178,9,178,10,1],[180,13,180,108,1],[181,13,181,104,1],[184,13,184,55,1],[187,13,187,78,1],[188,13,188,74,0],[190,13,190,72,0],[195,9,195,10,1],[197,13,197,32,1],[198,13,198,45,1],[199,13,199,35,1],[200,13,200,35,1],[201,13,201,49,1],[203,13,232,16,1],[235,13,235,95,1],[238,13,238,152,1],[240,13,240,72,1]]);
    </script>
  </body>
</html>